{"id":"login-back.html","dependencies":[{"name":"./assets\\css\\login-back.css","dynamic":true,"resolved":"D:\\專題\\web3\\client\\assets\\css\\login-back.css","parent":"D:\\專題\\web3\\client\\login-back.html"},{"name":"./assets\\css\\indexh.css","dynamic":true,"resolved":"D:\\專題\\web3\\client\\assets\\css\\indexh.css","parent":"D:\\專題\\web3\\client\\login-back.html"},{"name":"./assets\\css\\footer.css","dynamic":true,"resolved":"D:\\專題\\web3\\client\\assets\\css\\footer.css","parent":"D:\\專題\\web3\\client\\login-back.html"},{"name":"D:\\專題\\web3\\client\\package.json","includedInParent":true,"mtime":1670475322042}],"generated":{"html":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/b8cab9a342900d3119f4ac4bef632821.css\">\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/46e712923d6125fd9f6477720a95c5cf.css\">\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/c4cddc672e144359f8809e30906e99ba.css\">\r\n    <title>後台登入</title>\r\n    <meta name=\"viewport\" content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\">\r\n        <script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-1.7.1.min.js\"></script>\r\n</head>\r\n\r\n<body>\r\n\r\n    <!--header-->\r\n    <div id=\"header\"></div>\r\n\r\n    <div class=\"container\">\r\n        <div class=\"logall\">\r\n            <div class=\"login\">\r\n                <div id=\"title3\">\r\n                    系統管理員您好\r\n                </div>\r\n                <div class=\"account\">\r\n                    帳號\r\n                    <input name=\"acc\" required=\"\" class=\"txt\" id=\"acc\">\r\n                </div>\r\n                <div class=\"account\">\r\n                    密碼\r\n                    <input name=\"pass\" type=\"password\" required=\"\" class=\"txt\" id=\"pass\">\r\n                </div>\r\n                <div class=\"but\">\r\n                    <button class=\"butlog\" id=\"logBtn\">\r\n                        登入\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!--footer-->\r\n    <div id=\"footer\">\r\n\r\n        <script>$(function () {\n  $(\"#header\").load(\"indexh.html\");\n  $(\"#footer\").load(\"footer.html\");\n});</script>\r\n\r\n<!----------------------------------------firebase------------------------------------------------>\r\n\r\n<script type=\"module\">\r\n    // Import the functions you need from the SDKs you need\r\n  import { initializeApp } from \"firebase/app\";\r\n  // TODO: Add SDKs for Firebase products that you want to use\r\n  // https://firebase.google.com/docs/web/setup#available-libraries\r\n  \r\n  // Your web app's Firebase configuration\r\n  const firebaseConfig = {\r\n  apiKey: \"AIzaSyBxyo9c07rd1CzGXbEnu9jmutXAbIBiHis\",\r\n  authDomain: \"contactform-d7d05.firebaseapp.com\",\r\n  databaseURL: \"https://contactform-d7d05-default-rtdb.firebaseio.com\",\r\n  projectId: \"contactform-d7d05\",\r\n  storageBucket: \"contactform-d7d05.appspot.com\",\r\n  messagingSenderId: \"371807550240\",\r\n  appId: \"1:371807550240:web:5a7fb2cd0674cd8f4bb545\"\r\n  };\r\n  \r\n  // Initialize Firebase\r\n  const app = initializeApp(firebaseConfig);\r\n  \r\n  import{\r\n  getFirestore, doc, setDoc, collection, addDoc, getDoc,updateDoc,deleteDoc,getDocs\r\n  }\r\n  from \"firebase/firestore\";\r\n  \r\n  const db = getFirestore();\r\n\r\nlet Account = document.getElementById(\"acc\");\r\nlet Password = document.getElementById(\"pass\");\r\nlet login = document.getElementById(\"logBtn\");\r\n\r\n\r\n  \r\n//登入控制\r\n    async function get(){\r\n    var ref = doc(db,\"後台人員資料\", Account.value);\r\n    const docSnap = await getDoc(ref);\r\n\r\n    if(docSnap.exists()){\r\n       if(Password.value === docSnap.data().密碼){\r\n        alert(\"登入成功\");\r\n        // window.location.assign(\"studentclasslist.html\");\r\n        const backacc = Account.value;\r\n        const backname = docSnap.data().後台人員姓名;\r\n        //sessionStorage\r\n        sessionStorage.setItem('Accountback',backacc);\r\n        sessionStorage.setItem('BackName',backname);\r\n\r\n        window.location.assign(\"allaccout-1.html\");\r\n       }\r\n       else{\r\n        alert(\"帳號密碼有誤\");\r\n       }\r\n    }\r\n    else{\r\n        alert(\"帳號密碼有誤\");\r\n    }\r\n    }\r\n\r\n\r\n    // function getsession(){\r\n    //catch session\r\n    \r\n    // }\r\n   \r\n     \r\n    login.addEventListener(\"click\",(e) =>{\r\n    e.preventDefault();\r\n    get();\r\n  });\r\n\r\n  </script>\r\n</div></body>\r\n\r\n</html>"},"sourceMaps":null,"error":null,"hash":"79dfa84771b6aa6cfc3eb8da7ab985a5","cacheData":{"env":{}}}