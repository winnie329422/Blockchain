{"id":"register.html","dependencies":[{"name":"./assets\\css\\register.css","dynamic":true,"resolved":"D:\\專題\\web3\\client\\assets\\css\\register.css","parent":"D:\\專題\\web3\\client\\register.html"},{"name":"./assets\\css\\all.css","dynamic":true,"resolved":"D:\\專題\\web3\\client\\assets\\css\\all.css","parent":"D:\\專題\\web3\\client\\register.html"},{"name":"_css_loader","parent":"D:\\專題\\web3\\client\\register.html","resolved":"C:\\Users\\user\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\src\\builtins\\css-loader.js"},{"name":"D:\\專題\\web3\\client\\package.json","includedInParent":true,"mtime":1670475322042}],"generated":{"html":"<!doctype html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n  <meta charset=\"utf-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n  <title>積分管家</title>\r\n  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor\" crossorigin=\"anonymous\">\r\n  <script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-1.7.1.min.js\"></script>\r\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"/0125ce80256a970490da7c6062b7bb54.css\">\r\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"/7747afd7e01623f0bca7fc356fba6e41.css\">\r\n</head>\r\n\r\n<body>\r\n  <div id=\"header\"></div>\r\n\r\n    <div class=\"container\">\r\n        <span class=\"h4 userTitleSpan\">長照人員註冊\r\n        </span>\r\n        <div class=\"mb-3\" style=\"margin-top: 30px;\">\r\n          <label class=\"form-label\">姓名</label>\r\n          <input type=\"text\" class=\"form-control\" placeholder=\"林小美\" id=\"name\" required=\"\">\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label class=\"form-label\">職類(項)名稱</label>\r\n          <select class=\"form-select\" aria-label=\"Default select example\" id=\"job\" required=\"\">\r\n            <option value=\"\">請選擇</option>\r\n            <option value=\"照顧服務員\">照顧服務員</option>\r\n            <option value=\"社工師\">社工師</option>\r\n            <option value=\"護理師\">護理師</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label class=\"form-label\">身分證字號/護照號碼</label>\r\n          <input type=\"text\" class=\"form-control\" placeholder=\"例如：A123456789\" id=\"idnum\" required=\"\">\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label class=\"form-label\">聯絡電話</label>\r\n          <input type=\"tel\" maxlength=\"10\" class=\"form-control\" placeholder=\"例如：0912345678\" id=\"tele\" required=\"\">\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label class=\"form-label\">電子信箱</label>\r\n          <input type=\"email\" class=\"form-control\" placeholder=\"例如：example@gmail.com\" id=\"email\" required=\"\">\r\n        </div>\r\n        <!-- <div class=\"mb-3\">\r\n          <label class=\"form-label\">證照生效日期</label>\r\n          <input type=\"date\" id=\"startdate\" onchange=\"startdateFunction()\" class=\" form-control\"  required>\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label class=\"form-label\">證照失效日期</label>\r\n          <input type=\"text\" id=\"changeDate\" disabled class=\"form-control\" placeholder=\"失效日期\" required>\r\n        </div> -->\r\n        <div class=\"mb-3\">\r\n          <label class=\"form-label\">區塊鏈帳戶</label>\r\n          <input type=\"text\" class=\"form-control\" placeholder=\"請輸入區塊鏈帳號\" id=\"block\" required=\"\">\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label class=\"form-label\">帳號(未來在此網站上登入的帳號名稱)</label>\r\n          <input type=\"text\" class=\"form-control\" placeholder=\"請輸入帳號\" id=\"acc\" required=\"\">\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label class=\"form-label\">密碼</label>\r\n          <input type=\"password\" class=\"form-control\" placeholder=\"請輸入密碼\" id=\"pass\" required=\"\">\r\n        </div>\r\n        <div class=\"submitButton\"><input type=\"submit\" value=\"註冊\" id=\"Insbtn\"></div>\r\n    </div>\r\n  \r\n  <div id=\"footer\"></div>\r\n  <script>$(function () {\n  $(\"#header\").load(\"indexh.html\");\n  $(\"#footer\").load(\"footer.html\");\n});\n\nfunction startdateFunction() {\n  // var startdate = new Date(document.getElementById(\"startdate\").value)\n  // var year = startdate.getFullYear();\n  // var month = startdate.getMonth();\n  // var day = startdate.getDate();\n  // var c = new Date(year + 1, month, day);\n  var chooseDate = new Date(document.getElementById(\"startdate\").value);\n  y = chooseDate.getFullYear() + 6; // chooseDate.setDate(chooseDate.getFullYear() + 7);\n\n  var futureDate = y + '-' + ('0' + (chooseDate.getMonth() + 1)).slice(-2) + '-' + ('0' + chooseDate.getDate()).slice(-2); // alert('7 days later will be ' + futureDate);\n\n  document.getElementById(\"changeDate\").value = futureDate;\n} // const input = document.querySelector('#startdate')\n// input.onchange = (e) => {\n// console.log(e.target.value)\n// }</script>\r\n\r\n\r\n<!--Firebase-->\r\n<script type=\"module\">\r\n  // Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\napiKey: \"AIzaSyBxyo9c07rd1CzGXbEnu9jmutXAbIBiHis\",\r\nauthDomain: \"contactform-d7d05.firebaseapp.com\",\r\ndatabaseURL: \"https://contactform-d7d05-default-rtdb.firebaseio.com\",\r\nprojectId: \"contactform-d7d05\",\r\nstorageBucket: \"contactform-d7d05.appspot.com\",\r\nmessagingSenderId: \"371807550240\",\r\nappId: \"1:371807550240:web:5a7fb2cd0674cd8f4bb545\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nimport{\r\ngetFirestore, doc, getDoc, setDoc, collection, addDoc, updateDoc, deleteDoc, deleteField\r\n}\r\nfrom \"firebase/firestore\";\r\n\r\nconst db = getFirestore();\r\n\r\n// Reference\r\n\r\nlet Name = document.getElementById(\"name\");\r\nlet Job = document.getElementById(\"job\");\r\nlet Id = document.getElementById(\"idnum\");\r\nlet Tele = document.getElementById(\"tele\");\r\nlet Email = document.getElementById(\"email\");\r\nlet Stardate = document.getElementById(\"startdate\");\r\nlet ChangeDate = document.getElementById(\"changeDate\");\r\nlet Account = document.getElementById(\"acc\");\r\nlet Password = document.getElementById(\"pass\");\r\nlet block = document.getElementById(\"block\");\r\n\r\n//button\r\nlet set = document.getElementById(\"Insbtn\");\r\n\r\n//Adding document\r\n//insert function\r\n\r\n//辨認是否已被註冊過\r\nasync function get(){\r\n        var ref = doc(db,\"長照人員資料\", Account.value);\r\n        const docSnap = await getDoc(ref);\r\n\r\n        if(docSnap.exists()){\r\n            alert(\"帳號已被註冊過\");\r\n        }\r\n        else{\r\n          AddDocument_CustomID();\r\n        }\r\n      }\r\n\r\n//註冊資料\r\nasync function AddDocument_CustomID(){\r\nvar ref = doc(db, \"長照人員資料\",Account.value);\r\nconst docRef = await setDoc(\r\nref, {\r\n  姓名: Name.value,\r\n  職類: Job.value,\r\n  身分證或護照號碼: Id.value,\r\n  聯絡電話: Tele.value,\r\n  電子信箱: Email.value,\r\n  證照生效日期: Stardate.value,\r\n  證照失效日期: ChangeDate.value,\r\n  區塊鏈帳戶: block.value,\r\n  帳號: Account.value,\r\n  密碼: Password.value\r\n}\r\n)\r\n.then(()=>{\r\n  alert(\"註冊成功!!\");\r\n  window.location.reload();\r\n})\r\n.catch((error)=>{\r\nalert(\"註冊失敗\"+ error);\r\n});\r\n};\r\n\r\nset.addEventListener(\"click\",(e) =>{\r\n    e.preventDefault();\r\n    get();\r\n  });\r\n\r\n\r\n</script>\r\n\r\n  <script src=\"https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js\" integrity=\"sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk\" crossorigin=\"anonymous\">\r\n  </script>\r\n  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js\" integrity=\"sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy\" crossorigin=\"anonymous\">\r\n  </script>\r\n  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js\" integrity=\"sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2\" crossorigin=\"anonymous\">\r\n  </script>\r\n</body>\r\n\r\n</html>"},"sourceMaps":null,"error":null,"hash":"ad355f6ef8ab5f563eadf28ae68e8e95","cacheData":{"env":{}}}