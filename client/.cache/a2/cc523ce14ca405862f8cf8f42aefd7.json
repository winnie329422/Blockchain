{"id":"register-class.html","dependencies":[{"name":"./assets\\css\\register-class.css","dynamic":true,"resolved":"D:\\專題\\web3\\client\\assets\\css\\register-class.css","parent":"D:\\專題\\web3\\client\\register-class.html"},{"name":"./assets\\css\\indexh.css","dynamic":true,"resolved":"D:\\專題\\web3\\client\\assets\\css\\indexh.css","parent":"D:\\專題\\web3\\client\\register-class.html"},{"name":"./assets\\css\\footer.css","dynamic":true,"resolved":"D:\\專題\\web3\\client\\assets\\css\\footer.css","parent":"D:\\專題\\web3\\client\\register-class.html"},{"name":"D:\\專題\\web3\\client\\package.json","includedInParent":true,"mtime":1670475322042}],"generated":{"html":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/a44fdcef46548a71c3a894a7c7c94feb.css\">\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/46e712923d6125fd9f6477720a95c5cf.css\">\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/c4cddc672e144359f8809e30906e99ba.css\">\r\n    <title>開課單位註冊</title>\r\n    <meta name=\"viewport\" content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\">\r\n        <script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-1.7.1.min.js\"></script>\r\n</head>\r\n\r\n<body>\r\n\r\n    <!--header-->\r\n    <div id=\"header\"></div>\r\n    <form id=\"contactForm\">\r\n    <div class=\"logall\">\r\n       \r\n        <div class=\"title4\">\r\n            單位資料\r\n        </div>\r\n        <div class=\"login\">\r\n            <div class=\"account\">\r\n                開課單位名稱\r\n                <input name=\"acc\" class=\"box\" id=\"name\">\r\n            </div>\r\n            <div class=\"account\">\r\n                負責人\r\n                <input name=\"pass\" required=\"\" class=\"box\" id=\"person\">\r\n            </div>\r\n            <div class=\"account\">\r\n                單位電話\r\n                <input name=\"pass\" required=\"\" class=\"box\" id=\"phone\">\r\n            </div>\r\n            <div class=\"account\">\r\n                單位傳真\r\n                <input name=\"pass\" required=\"\" class=\"box\" id=\"tax\">\r\n            </div>\r\n            <div class=\"account\">\r\n                <div class=\"address\">\r\n                    <div>單位地址</div>\r\n                    <div class=\"addresscontent\">\r\n                        <select class=\"form-select-sm\" aria-label=\"Default select example\" id=\"country\">\r\n                            <option selected=\"\">請選擇</option>\r\n                            <optgroup label=\"北部\">\r\n                                <option value=\"台北市\">台北市</option>\r\n                                <option value=\"新北市\">新北市</option>\r\n                                <option value=\"桃園市\">桃園市</option>\r\n                                <option value=\"基隆市\">基隆市</option>\r\n                                <option value=\"新竹市\">新竹市</option>\r\n                                <option value=\"新竹縣\">新竹縣</option>\r\n                                <option value=\"宜蘭縣\">宜蘭縣</option>\r\n                            </optgroup>\r\n                            <optgroup label=\"中部\">\r\n                                <option value=\"台中市\">台中市</option>\r\n                                <option value=\"苗栗縣\">苗栗縣</option>\r\n                                <option value=\"台中市\">台中市</option>\r\n                                <option value=\"彰化縣\">彰化縣</option>\r\n                                <option value=\"南投縣\">南投縣</option>\r\n                                <option value=\"雲林縣\">雲林縣</option>\r\n                            </optgroup>\r\n                            <optgroup label=\"南部\">\r\n                                <option value=\"台南市\">台南市</option>\r\n                                <option value=\"高雄市\">高雄市</option>\r\n                                <option value=\"嘉義縣\">嘉義縣</option>\r\n                                <option value=\"嘉義市\">嘉義縣</option>\r\n                                <option value=\"屏東縣\">屏東縣</option>\r\n                                <option value=\"澎湖縣\">澎湖縣</option>\r\n                            </optgroup>\r\n                            <optgroup label=\"東部\">\r\n                                <option value=\"花蓮縣\">花蓮縣</option>\r\n                                <option value=\"台東縣\">台東縣</option>\r\n                            </optgroup>\r\n                            <optgroup label=\"離島\">\r\n                                <option value=\"金門縣\">金門縣</option>\r\n                                <option value=\"連江縣\">連江縣</option>\r\n                            </optgroup>   \r\n                        </select>\r\n                        <input name=\"pass\" required=\"\" class=\"address\" id=\"address\"></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"account\">\r\n                單位電子郵件\r\n                <input name=\"pass\" type=\"email\" required=\"\" class=\"box\" id=\"email\">\r\n            </div>\r\n            <div class=\"account\">\r\n                銀行代碼\r\n                <input name=\"pass\" required=\"\" class=\"box\" id=\"num\" type=\"number\">\r\n            </div>\r\n            <div class=\"account\">\r\n                銀行帳號\r\n                <input name=\"pass\" required=\"\" class=\"box\" id=\"bank\" type=\"number\">\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"title4\">\r\n            個人資料\r\n        </div>\r\n        <div class=\"login\">\r\n            <div class=\"account\">\r\n                承辦人員姓名\r\n                <input name=\"acc\" required=\"\" class=\"box\" id=\"namebox\">\r\n            </div>\r\n            <div class=\"account\">\r\n                帳號\r\n                <input name=\"acc\" required=\"\" class=\"box\" id=\"acc\">\r\n            </div>\r\n            <div class=\"account\">\r\n                密碼\r\n                <input name=\"pass\" type=\"password\" required=\"\" class=\"box\" id=\"pass\">\r\n            </div>\r\n            <div class=\"account\">\r\n                申請人email\r\n                <input name=\"acc\" required=\"\" class=\"box\" type=\"email\" id=\"mailbox\">\r\n            </div>\r\n            <div class=\"account\">\r\n                申請人電話\r\n                <input name=\"acc\" required=\"\" class=\"box\" id=\"tele\">\r\n            </div>\r\n            <div class=\"account\">\r\n                職稱\r\n                <input name=\"acc\" required=\"\" class=\"box\" id=\"job\">\r\n            </div>\r\n\r\n            \r\n        </div>\r\n        <div class=\"but\">\r\n            <button id=\"Insbtn\" class=\"butlog\">註冊</button>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n<!--Firebase-->\r\n<script type=\"module\">\r\n    // Import the functions you need from the SDKs you need\r\n  import { initializeApp } from \"firebase/app\";\r\n  // TODO: Add SDKs for Firebase products that you want to use\r\n  // https://firebase.google.com/docs/web/setup#available-libraries\r\n  \r\n  // Your web app's Firebase configuration\r\n  const firebaseConfig = {\r\n  apiKey: \"AIzaSyBxyo9c07rd1CzGXbEnu9jmutXAbIBiHis\",\r\n  authDomain: \"contactform-d7d05.firebaseapp.com\",\r\n  databaseURL: \"https://contactform-d7d05-default-rtdb.firebaseio.com\",\r\n  projectId: \"contactform-d7d05\",\r\n  storageBucket: \"contactform-d7d05.appspot.com\",\r\n  messagingSenderId: \"371807550240\",\r\n  appId: \"1:371807550240:web:5a7fb2cd0674cd8f4bb545\"\r\n  };\r\n  \r\n  // Initialize Firebase\r\n  const app = initializeApp(firebaseConfig);\r\n  \r\n  import{\r\n  getFirestore, doc, setDoc, collection, addDoc,getDoc\r\n  }\r\n  from \"firebase/firestore\";\r\n  \r\n  const db = getFirestore();\r\n  \r\n  // Reference\r\n \r\n\r\n  let Name = document.getElementById(\"name\");\r\n  let Person = document.getElementById(\"person\");\r\n  let Phone = document.getElementById(\"phone\");\r\n  let Tax = document.getElementById(\"tax\");\r\n  let Address = document.getElementById(\"address\");\r\n  let Email = document.getElementById(\"email\");\r\n  let Num = document.getElementById(\"num\");\r\n  let Bank = document.getElementById(\"bank\");\r\n  let country = document.getElementById(\"country\");\r\n\r\n  let Namebox = document.getElementById(\"namebox\");\r\n  let Acc = document.getElementById(\"acc\");\r\n  let Pass = document.getElementById(\"pass\");\r\n  let Tele = document.getElementById(\"tele\");\r\n  let Mail = document.getElementById(\"mailbox\");\r\n  let Job = document.getElementById(\"job\");\r\n  \r\n  //button\r\n \r\n  let Insbtn = document.getElementById(\"Insbtn\");\r\n  \r\n\r\n  async function get(){\r\n        var ref = doc(db,\"申請中-開課單位承辦人員資料\", Acc.value);\r\n        const docSnap = await getDoc(ref);\r\n\r\n        if(docSnap.exists()){\r\n            alert(\"帳號已被註冊過\");\r\n        }\r\n        else{\r\n            AddClass();\r\n         \r\n        }\r\n      }\r\n\r\n  //Data of class\r\n  //insert function\r\n  async function AddClass(){\r\n  var ref = doc(db, \"申請中-開課單位資料\",Name.value);\r\n  const docRef = await setDoc(\r\n    ref, {\r\n        開課單位名稱: Name.value,\r\n        負責人: Person.value,\r\n        聯絡電話: Phone.value,\r\n        傳真: Tax.value,\r\n        縣市:country.value,\r\n        地址: Address.value,\r\n        電子郵件: Email.value,\r\n        銀行代碼: Num.value,\r\n        銀行帳號: Bank.value,\r\n        備註:\"無\",\r\n        狀態:\"啟用\"\r\n     }\r\n  )\r\n    AddMember();\r\n  }\r\n  \r\n  //Data of person\r\n  async function AddMember(){\r\n  var ref = doc(db, \"申請中-開課單位承辦人員資料\",Acc.value);\r\n  const docRef = await setDoc(\r\n    ref, {\r\n        開課單位名稱: Name.value,\r\n        承辦人員名字: Namebox.value,\r\n        帳號: Acc.value,\r\n        密碼: Pass.value,\r\n        承辦人員email:Mail.value,\r\n        申請人電話: Tele.value,\r\n        職稱: Job.value\r\n     }\r\n  )\r\n  .then(()=>{\r\n    alert(\"已提交註冊申請!!\");\r\n    window.location.reload();\r\n  })\r\n  .catch((error)=>{\r\n  alert(\"提交失敗r\"+ error);\r\n  });\r\n  }\r\n\r\n\r\n  Insbtn.addEventListener(\"click\",(e) =>{\r\n    e.preventDefault();\r\n    get();\r\n  });\r\n  </script>\r\n\r\n\r\n    <!--footer-->\r\n\r\n    <div id=\"footer\">\r\n\r\n        <script>$(function () {\n  $(\"#header\").load(\"indexh.html\");\n  $(\"#footer\").load(\"footer.html\");\n});</script>\r\n\r\n    \r\n</div></body>\r\n\r\n</html>"},"sourceMaps":null,"error":null,"hash":"36e3e828e7ee72a2086321714e60378a","cacheData":{"env":{}}}